{
  "ConfigImports": {
    "BaseSettings": "../../../../appsettings/appsettings.base.json"
  },

  "Kestrel": {
    "Endpoints": {
      "Https": {
        "Url": "https://localhost:6888"
      }
    }
  },

  "Orchestrator": {
    "Enabled": true,
    "DefaultTickMs": 5000,
    "MinTickMs": 100,
    "MaxTickMs": 300000,
    "AllowedDownMs": 180000,

    "Manifest": {
      "Services": [
        {
          "name": "mssql-main",
          "type": "database",
          "connectionString": "Data Source=localhost, 7000;Initial Catalog=Eleoncore;User ID=sa;Password=DbPass20190502;Connect Timeout=30;Encrypt=True;TrustServerCertificate=True",
          "dependencies": []
        },
        {
          "name": "rabbit",
          "type": "connection",
          "connectionString": "amqp://rootuser:DbPass20190502@localhost:7001/",
          "dependencies": []
        },

        {
          "name": "eleonsoft",
          "type": "webapp",
          "url": "https://localhost:5050",
          "executablePath": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\eleonsoft\\bin\\Debug\\Eleonsoft.Host.exe",
          "workingDirectory": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\eleonsoft\\bin\\Debug",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        },

        {
          "name": "eleonauth",
          "type": "webapp",
          "executablePath": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\auth\\bin\\Debug\\Eleonsoft.Auth.Host.exe",
          "workingDirectory": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\auth\\bin\\Debug",
          "url": "https://localhost:4040/auth",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        },

        {
          "name": "eleoncore",
          "type": "webapp",
          "executablePath": "C:\\Workspace-azure\\eleoncore\\server\\hosts\\core-unified\\bin\\Debug\\VPortal.HttpApi.CoreUnified.exe",
          "workingDirectory": "C:\\Workspace-azure\\eleoncore\\server\\hosts\\core-unified\\bin\\Debug",
          "url": "https://localhost:6060",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        }
      ]
    }
  },

  "ApplicationName": "Orchestrator",
  "NotificationApplication": "Admin",
  "App": {
    "Domain": "network-protected.com",
    "Authority": "https://localhost:4040/auth",
    "Authorities": [
      "https://network-protected.com/auth",
      "https://localhost:4040/auth"
    ]
  },

  "MultiTenancySettings": {
    "Enabled": false
  },
  "HealthChecks": {
    "Enabled": true,
    "ApplicationName": "Orchestrator",
    "CheckTimeout": 5,
    "EnableDiagnostics": false,
    "RestartEnabled": false,
    "RestartRequiresAuth": true,
    "PublishOnFailure": true,
    "PublishOnChange": false,
    "PublishIntervalMinutes": 5,
    "SqlServer": {
      "EnableDiagnostics": false,
      "DiagnosticsCacheMinutes": 10,
      "MaxTablesInDiagnostics": 100
    },
    "Publishing": {
      "PublishOnFailure": true,
      "PublishOnChange": false,
      "PublishIntervalMinutes": 5,
      "MaxPublishesPerMinute": 1
    },
    "ConfigurationCheck": {
      "Enabled": true,
      "ThrowExceptionOnInvalid": false,
      "Configurations": {

      }
    },
    "HttpCheck": {
      "Timeout": 60,
      "IgnoreSsl": true,
      "Urls": [
        {
          "Name": "Eleonsoft",
          "Url": "https://localhost:5050/api/health/health-checks",
          "GoodStatusCodes": [ 200 ]
        },
        {
          "Name": "AuthUrl",
          "Url": "https://localhost:4040/api/health/health-checks",
          "GoodStatusCodes": [ 200 ]
        },
        {
          "Name": "Eleoncore",
          "Url": "https://localhost:6060/api/health/health-checks",
          "GoodStatusCodes": [ 200 ]
        }
      ]
    },
    "RabbitMqCheck": {
      "BaseUrl": "http://localhost:15672/api",
      "Username": "guest",
      "Password": "guest",
      "VirtualHost": "/"
    }
  },
  "EventBus": {
    "ProviderOptionsJson": {
      "RabbitMqOptions": {
        "DefaultQueuePrefix": "orchestrator_server_queue"
      }
    }
  }
}
