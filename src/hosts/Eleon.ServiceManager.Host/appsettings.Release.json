{
  "ConfigImports": {
    "BaseSettings": "../../../../appsettings/appsettings.immu.base.json"
  },

  "ApplicationName": "ImmunitiesOrchestrator",
  "Orchestrator": {
    "Manifest": {
      "Services": [
        {
          "name": "mssql-main",
          "type": "database",
          "connectionString": "Data Source=localhost, 7000;Initial Catalog=Eleoncore;User ID=sa;Password=DbPass20190502;Connect Timeout=30;Encrypt=True;TrustServerCertificate=True",
          "dependencies": []
        },
        {
          "name": "rabbit",
          "type": "connection",
          "connectionString": "amqp://rootuser:DbPass20190502@localhost:7001/",
          "dependencies": []
        },

        {
          "name": "eleonsoft",
          "type": "webapp",
          "url": "https://localhost:5150",
          "executablePath": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\eleonsoft\\bin\\ImmuRelease\\Eleonsoft.Host.exe",
          "workingDirectory": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\eleonsoft\\bin\\ImmuRelease",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        },

        {
          "name": "eleonauth",
          "type": "webapp",
          "executablePath": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\auth\\bin\\ImmuRelease\\Eleonsoft.Auth.Host.exe",
          "workingDirectory": "C:\\Workspace-azure\\eleonsoft\\server\\hosts\\auth\\bin\\ImmuRelease",
          "url": "https://localhost:4140/auth",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        },

        {
          "name": "immunities",
          "type": "webapp",
          "executablePath": "C:\\Workspace-azure\\immunities\\server\\hosts\\Immunities.Host\\bin\\ImmuRelease\\Immunities.Host.exe",
          "workingDirectory": "C:\\Workspace-azure\\immunities\\server\\hosts\\Immunities.Host\\bin\\ImmuRelease",
          "url": "https://localhost:8080",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        },
        {
          "name": "immunitiesapi",
          "type": "webapp",
          "executablePath": "C:\\Workspace-azure\\immunities\\server\\hosts\\Immunities.Api.Host\\bin\\ImmuRelease\\Immunities.Api.Host.exe",
          "workingDirectory": "C:\\Workspace-azure\\immunities\\server\\hosts\\Immunities.Api.Host\\bin\\ImmuRelease",
          "url": "https://localhost:8082",
          "env": { "ASPNETCORE_ENVIRONMENT": "Production" },
          "dependencies": [ "mssql-main", "rabbit" ]
        }
      ]
    }
  },
  "HealthChecks": {
    "Enabled": true,
    "ApplicationName": "ImmunitiesOrchestrator",
    "CheckTimeout": 5,
    "EnableDiagnostics": false,
    "RestartEnabled": false,
    "RestartRequiresAuth": true,
    "PublishOnFailure": true,
    "PublishOnChange": false,
    "PublishIntervalMinutes": 5,
    "SqlServer": {
      "EnableDiagnostics": false,
      "DiagnosticsCacheMinutes": 10,
      "MaxTablesInDiagnostics": 100
    },
    "Publishing": {
      "PublishOnFailure": true,
      "PublishOnChange": false,
      "PublishIntervalMinutes": 5,
      "MaxPublishesPerMinute": 1
    },
    "RabbitMqCheck": {
      "VirtualHost": "immu-vhost"
    }
  }
}
