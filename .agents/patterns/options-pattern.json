{"$schema":"https://json-schema.org/draft/2020-12/schema","name":"Options Pattern","desc":"Pattern for creating module options","layer":"Module (ConfigureServices)","rules":{"location":"Create Options class in module root","validation":"Use [Required], [Range], etc. attributes","registration":"Register in module ConfigureServices","validationOnStart":"Call ValidateOnStart()"},"template":{"optionsClass":{"namespace":"__NS__.__MOD_NAME__","name":"{ModuleName}Options","type":"class","properties":[{"name":"PropertyName","type":"int","attributes":["[Required]","[Range(10, 3600)]"],"desc":"Example property with validation"}]},"registration":{"location":"{ModuleName}Module.ConfigureServices","code":"var options = context.Services.GetConfiguration().GetSection(\"{ModuleName}\");\ncontext.Services.Configure<{ModuleName}Options>(options);\ncontext.Services.AddOptions<{ModuleName}Options>().ValidateOnStart();"}},"example":{"snippet":"public class SalesOptions\n{\n    [Required, Range(10, 3600)]\n    public int PaymentTimeoutSeconds { get; set; }\n    \n    public string[] CurrencyWhitelist { get; set; } = Array.Empty<string>();\n}\n\n// In Module.ConfigureServices:\nvar options = context.Services.GetConfiguration().GetSection(\"Sales\");\ncontext.Services.Configure<SalesOptions>(options);\ncontext.Services.AddOptions<SalesOptions>().ValidateOnStart();"}}